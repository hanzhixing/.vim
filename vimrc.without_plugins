""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" General
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Use Vim settings, rather than Vi settings (much better!).
" This must be first, because it changes other options as a side effect.
set nocompatible

" Show (partial) command in the last line of the screen.
set showcmd

" Set to auto read when a file is changed from the outside.
set autoread

" Set to auto change directory.
"set autochdir

" Detect filetype.
filetype plugin indent on

" Sets how many lines of history VIM has to remember.
set history=700

" Set backspace config.
set backspace=eol,start,indent

" Reload .vimrc when it's edited.
autocmd! BufWritePost .vimrc source ~/.vimrc





""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Displays
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

" Command-line auto-completion. Use <Tab> key when insert commands.
set wildmenu

" Always show current postion.
set ruler

" Always show line numbers.
set number

" The command line height. Default value is actually 1.
set cmdheight=1

" Set status line which shows you the most useful infomations.
set laststatus=2

" '\' is 'line-continuation' charactor here. See 'help line-continuation'.
set statusline=%F%m%r%h%w%y
    \%=
    \%{\"[\".(&fenc==\"\"?&enc:&fenc).(
    \(exists(\"+bomb\")\ &&\ &bomb)?\",BOM\":\"\").\"]\"}
    \\ [%{&ff}]\ [%l,%v(%p%%)]\ [LEN=%L]\ [\\%03.3b,\0x%04.4B]

" Enable syntax highlight.
syntax on

" Set font according to system.
if has("win32")
    set guifont=Bitstream\ Vera\ Sans\ Mono:h10
elseif has("mac")
    set guifont=Menlo:h14
else
    set guifont=Monospace\ 10
endif

" Set highlighting theme. 
if has("gui_running")
    colorscheme desert
else
    colorscheme default
endif

<<<<<<< HEAD:vimrc
" Highlight where it is over line limit
" this 4 lines must be located after 'syntax on', 'guifont', 'colorschem'
highlight OverLineLimit81 ctermbg=darkred ctermfg=white guibg=#444444
highlight OverLineLimit121 ctermbg=darkred ctermfg=white guibg=#888888
match OverLineLimit81 /\%81v.*/
match OverLineLimit121 /\%121v.*/
=======
" Highlight where it is over 79 columns
" This 2 lines must be loaded after 'syntax on', 'guifont', 'colorschem',
" or these settings will overwrite the setting you want.
highlight OverLength ctermbg=darkred ctermfg=white guibg=#666666
match OverLength /\%79v.*/
>>>>>>> eaf175b66b720e091aab8f90966730dc9a7843f0:vimrc.without_plugins

" Set the default size of the window
" if has("win32")
"     au GUIEnter * simalt ~x
" else
"     set lines=24
"     set columns=83
" endif

" When a bracket is inserted, shows the matching one briefly.
set showmatch





""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Encoding and Languages
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

" Always use utf-8. Defualt is latin1 or value from system $LANG
let &termencoding=&encoding
set encoding=utf-8

" Always save files in utf-8.
set fileencoding=utf-8

" Encoding detection order. The 'ucs-bom' is special value.
set fileencodings=ucs-bom,utf-8,cp936,latin1

" Always use \n as end-of-line for new files.
set fileformat=unix

" File format detection order.
set fileformats=mac,unix,dos

" Vim messages always in English.
language messages en_US.utf-8





""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Searching
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

" Highlight search things.
set hlsearch

" Make search act like search in address line of modern browsers.
" Display the matche while typing.
set incsearch

" Stops the searching at the end of the file.
set nowrapscan

" Ignore case when searching.
set ignorecase
set smartcase

" Pattern magic action.
set magic





""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" GUI setting
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

if has('gui_running')
    " Never want a menubar and toolbar
    set guioptions-=m
    set guioptions-=T

    " Never want a scrollbar
    set guioptions-=l
    set guioptions-=L
    set guioptions-=r
    set guioptions-=R

    " Disable mouse
    "set mouse-=a
endif





""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Tab, Indent and Linefeed
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

" use spaces instead of <tab> character.
set expandtab

" the width of '>' operator indenting.
set shiftwidth=4

set tabstop=4

" 4 spaces for one pressing, '<tab>' character for twice pressing.
set softtabstop=4

set smarttab

set linebreak
set tw=500

set autoindent
set smartindent
set wrap


autocmd FileType html,phtml setlocal shiftwidth=2 tabstop=2





""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Files, backups and undo
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

" No swap file.
set noswapfile

" Turn backup off, since most stuff is in SVN, git anyway...
"set nobackup
" set nowritebackup

" Persistent backup
try
    if has("win32")
        set backupdir=C:\Windows\Temp
    else
        set backupdir=~/.vim/temp/backupdir
    endif
catch
endtry

" Persistent undo
try
    if has("win32")
        set undodir=C:\Windows\Temp
    else
        set undodir=~/.vim/temp/undodir
    endif
    set undofile
catch
endtry





""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" Key Mapping
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

" In order to use these Command key mapping, need to source this file manually
" D is for Command key
if has("mac")
    " Control + W (Switching from one window to another)
    map <D-w>h :wincmd h<cr>
    map <D-w>j :wincmd j<cr>
    map <D-w>k :wincmd k<cr>
    map <D-w>l :wincmd l<cr>
    vmap <D-w>h <esc>:wincmd h<cr>
    vmap <D-w>j <esc>:wincmd j<cr>
    vmap <D-w>k <esc>:wincmd k<cr>
    vmap <D-w>l <esc>:wincmd l<cr>
    imap <D-w>h <esc>:wincmd h<cr>
    imap <D-w>j <esc>:wincmd j<cr>
    imap <D-w>k <esc>:wincmd k<cr>
    imap <D-w>l <esc>:wincmd l<cr>
endif





" End Of File. Sun Dec 30 03:08:16 UTC 2012
